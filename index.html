<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bunny English Adventure</title>

<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<style>
body{
  margin:0;
  font-family:'Comic Sans MS', cursive;
  background:linear-gradient(#aee1f9,#fde2ff);
  text-align:center;
}

.topbar{
  display:flex;
  justify-content:space-between;
  padding:15px;
  font-size:24px;
  font-weight:bold;
}

.hero{
  background:white;
  margin:20px;
  border-radius:30px;
  padding:25px;
  box-shadow:0 8px 20px rgba(0,0,0,0.15);
}

.hero h1{
  font-size:36px;
  color:#0066cc;
  margin-bottom:10px;
}

.hero p{
  font-size:20px;
  color:#444;
}

.world-container{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:20px;
  padding:20px;
}

.world{
  background:white;
  width:160px;
  padding:20px;
  border-radius:25px;
  box-shadow:0 6px 15px rgba(0,0,0,0.15);
  cursor:pointer;
  transition:0.3s;
}

.world:hover{
  transform:scale(1.1);
}

.world span{
  font-size:50px;
}

.btn{
  margin:10px;
  padding:15px 25px;
  font-size:18px;
  border:none;
  border-radius:20px;
  background:#ffb703;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

input{
  padding:12px;
  font-size:18px;
  border-radius:15px;
  border:2px solid #ffb703;
  margin-top:10px;
}
</style>
</head>

<body>
<div id="root"></div>

<script type="text/babel">

const {useState} = React;

const data = {
  weather:[
    {name:"Sun",emoji:"‚òÄÔ∏è"},
    {name:"Rain",emoji:"üåßÔ∏è"},
    {name:"Snow",emoji:"‚ùÑÔ∏è"},
    {name:"Cloud",emoji:"‚òÅÔ∏è"}
  ],
  food:[
    {name:"Pizza",emoji:"üçï"},
    {name:"Apple",emoji:"üçé"},
    {name:"Bread",emoji:"üçû"},
    {name:"Milk",emoji:"ü•õ"}
  ],
  family:[
    {name:"Mother",emoji:"üë©"},
    {name:"Father",emoji:"üë®"},
    {name:"Brother",emoji:"üë¶"},
    {name:"Sister",emoji:"üëß"}
  ],
  animals:[
    {name:"Dog",emoji:"üê∂"},
    {name:"Cat",emoji:"üê±"},
    {name:"Lion",emoji:"ü¶Å"},
    {name:"Elephant",emoji:"üêò"}
  ],
  numbers:[
    {name:"One",emoji:"1Ô∏è‚É£"},
    {name:"Two",emoji:"2Ô∏è‚É£"},
    {name:"Three",emoji:"3Ô∏è‚É£"},
    {name:"Four",emoji:"4Ô∏è‚É£"}
  ]
};

function App(){

  const [screen,setScreen]=useState("home");
  const [world,setWorld]=useState(null);
  const [quiz,setQuiz]=useState(null);
  const [mode,setMode]=useState("choice");
  const [stars,setStars]=useState(0);
  const [hearts,setHearts]=useState(3);
  const [input,setInput]=useState("");

  const speak=(text)=>{
    const u=new SpeechSynthesisUtterance(text);
    u.lang="en-US";
    speechSynthesis.speak(u);
  };

  const startQuiz=(selectedMode)=>{
    setMode(selectedMode);
    const items=data[world];
    const correct=items[Math.floor(Math.random()*items.length)];
    const options=[...items].sort(()=>0.5-Math.random()).slice(0,4);
    setQuiz({correct,options});
    speak(correct.name);
    setScreen("quiz");
  };

  const checkAnswer=(answer)=>{
    if(answer.toLowerCase()===quiz.correct.name.toLowerCase()){
      setStars(stars+5);
      alert("Great job! ‚≠ê");
      startQuiz(mode);
    }else{
      setHearts(hearts-1);
      if(hearts-1<=0){
        alert("Game Over!");
        setHearts(3);
        setStars(0);
        setScreen("home");
      }
    }
  };

  if(screen==="home"){
    return(
      <>
      <div className="topbar">
        <div>‚ù§Ô∏è {hearts}</div>
        <div>‚≠ê {stars}</div>
      </div>

      <div className="hero">
        <h1>Hi! I'm Bunny üê∞</h1>
        <p>Let's learn English!</p>
      </div>

      <div className="world-container">
        <div className="world" onClick={()=>{setWorld("weather");}}>
          <span>‚òÄÔ∏è</span>
          <h3>Weather</h3>
        </div>
        <div className="world" onClick={()=>{setWorld("food");}}>
          <span>üçî</span>
          <h3>Food</h3>
        </div>
        <div className="world" onClick={()=>{setWorld("family");}}>
          <span>üë®‚Äçüë©‚Äçüëß</span>
          <h3>Family</h3>
        </div>
        <div className="world" onClick={()=>{setWorld("animals");}}>
          <span>üê∂</span>
          <h3>Animals</h3>
        </div>
        <div className="world" onClick={()=>{setWorld("numbers");}}>
          <span>üî¢</span>
          <h3>Numbers</h3>
        </div>
      </div>

      {world && (
        <div>
          <button className="btn" onClick={()=>startQuiz("choice")}>Easy Quiz</button>
          <button className="btn" onClick={()=>startQuiz("write")}>Writing Mode</button>
        </div>
      )}
      </>
    );
  }

  if(screen==="quiz"){
    return(
      <>
      <div className="topbar">
        <div>‚ù§Ô∏è {hearts}</div>
        <div>‚≠ê {stars}</div>
      </div>

      <h1>{quiz.correct.emoji}</h1>

      {mode==="choice" && quiz.options.map((o,i)=>(
        <button key={i} className="btn" onClick={()=>checkAnswer(o.name)}>
          {o.name}
        </button>
      ))}

      {mode==="write" && (
        <>
        <input value={input} onChange={(e)=>setInput(e.target.value)} />
        <br/>
        <button className="btn" onClick={()=>checkAnswer(input)}>Send</button>
        </>
      )}

      <br/>
      <button className="btn" onClick={()=>setScreen("home")}>Exit</button>
      </>
    );
  }
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);

</script>
</body>
</html>
