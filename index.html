<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Learn English">
    <title>Learn English - Bunny Adventure</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Fredoka', 'Comic Sans MS', sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            -webkit-tap-highlight-color: transparent; 
            min-height: 100vh;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .container { min-height: 100vh; padding: 1rem; max-width: 600px; margin: 0 auto; }
        
        /* BANNER */
        .banner-img {
            width: 100%;
            border-radius: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            display: block;
            border: 6px solid white;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        /* GRIGLIE */
        .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 1.5rem; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; padding-bottom: 1rem; max-height: calc(100vh - 200px); overflow-y: auto; }
        .grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.2rem; }

        /* BOTTONI CATEGORIE - ORA SUPER COLORATI! */
        .btn { border: none; cursor: pointer; transition: all 0.2s; font-weight: bold; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        .btn:active { transform: scale(0.92) rotate(2deg); }
        
        .btn-category { 
            color: white; 
            padding: 0.8rem 0.2rem; 
            border-radius: 1.2rem; 
            box-shadow: 0 8px 0 rgba(0,0,0,0.15), 0 10px 25px rgba(0,0,0,0.2); 
            height: 105px; 
            width: 100%;
            position: relative;
            border: 5px solid rgba(255, 255, 255, 0.95);
            background: linear-gradient(145deg, var(--color1), var(--color2));
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        .btn-category .emoji-large { 
            font-size: 2.8rem; 
            margin-bottom: 5px; 
            filter: drop-shadow(0 3px 4px rgba(0,0,0,0.3));
            animation: bounce 1s ease infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        .btn-category .category-name { 
            font-size: 0.85rem; 
            font-weight: 700; 
            line-height: 1.1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        /* COLORI VIVACI E ACCATTIVANTI */
        .bg-numbers { --color1: #8B5CF6; --color2: #6366F1; }
        .bg-colors { --color1: #F43F5E; --color2: #FB923C; }
        .bg-fruits { --color1: #FBBF24; --color2: #F59E0B; }
        .bg-animals { --color1: #EC4899; --color2: #DB2777; }
        .bg-weather { --color1: #06B6D4; --color2: #0EA5E9; }
        .bg-food { --color1: #10B981; --color2: #059669; }
        .bg-family { --color1: #F59E0B; --color2: #D97706; color: white; }
        .bg-months { --color1: #14B8A6; --color2: #0D9488; }
        .bg-gestures { --color1: #6366F1; --color2: #4F46E5; }
        .bg-shapes { --color1: #A855F7; --color2: #9333EA; }
        .bg-body { --color1: #64748B; --color2: #475569; }
        
        /* UI ELEMENTI */
        .btn-back { 
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
            padding: 18px 35px; 
            border-radius: 50px; 
            box-shadow: 0 8px 20px rgba(0,0,0,0.2); 
            margin-bottom: 20px; 
            color: #333; 
            font-weight: 900; 
            font-size: 1.5rem;
            border: 4px solid #e0e0e0; 
            display: inline-flex;
            align-items: center;
            gap: 12px;
        }

        .stats-card { 
            background: linear-gradient(145deg, #ffffff, #fef3c7);
            border-radius: 25px; 
            padding: 25px; 
            box-shadow: 0 15px 40px rgba(0,0,0,0.15); 
            margin-top: 20px; 
            text-align: center;
            border: 5px solid white;
        }
        
        .stats-card h3 {
            font-size: 2rem;
            color: #7C3AED;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .mode-card { 
            background: linear-gradient(145deg, #ffffff, #fce7f3);
            padding: 25px; 
            border-radius: 25px; 
            margin-top: 20px; 
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            border: 5px solid white;
        }
        
        .btn-big { 
            width: 100%; 
            font-size: 1.8rem; 
            padding: 25px; 
            border-radius: 18px; 
            margin-bottom: 18px; 
            color: white; 
            box-shadow: 0 8px 0 rgba(0,0,0,0.15);
            font-weight: 700;
            border: 4px solid rgba(255,255,255,0.5);
        }
        
        .btn-learn { background: linear-gradient(145deg, #06B6D4, #0284C7); }
        .btn-quiz { background: linear-gradient(145deg, #10B981, #059669); }
        
        .btn-item { 
            background: linear-gradient(145deg, #ffffff, #fef3c7);
            padding: 12px; 
            border-radius: 18px; 
            box-shadow: 0 6px 0 #e0e0e0, 0 8px 15px rgba(0,0,0,0.1); 
            border: 4px solid white;
            transition: all 0.2s;
        }
        
        .btn-item:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 #e0e0e0;
        }
        
        .quiz-word { 
            font-size: 3.5rem; 
            color: #7C3AED; 
            margin: 20px 0;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.2);
            font-weight: 900;
        }
        
        .celebration { 
            position: fixed; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%,-50%); 
            font-size: 8rem; 
            animation: popCelebrate 0.6s; 
            z-index: 100; 
            pointer-events: none;
            filter: drop-shadow(0 0 20px rgba(255,215,0,0.8));
        }
        
        @keyframes popCelebrate { 
            0% { transform: translate(-50%,-50%) scale(0) rotate(0deg); } 
            50% { transform: translate(-50%,-50%) scale(1.3) rotate(180deg); } 
            100% { transform: translate(-50%,-50%) scale(1) rotate(360deg); } 
        }
        
        .page-title {
            font-size: 3.5rem;
            margin-bottom: 15px;
            text-shadow: 4px 4px 8px rgba(0,0,0,0.3);
            animation: titleBounce 2s ease-in-out infinite;
        }
        
        @keyframes titleBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .subtitle {
            font-size: 2.2rem;
            margin-bottom: 25px;
            color: #333;
            font-weight: 800;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const App = () => {
            const [screen, setScreen] = useState('home');
            const [category, setCategory] = useState(null);
            const [stars, setStars] = useState(parseInt(localStorage.getItem('stars')) || 0);
            const [celebration, setCelebration] = useState(null);
            const [quiz, setQuiz] = useState(null);

            useEffect(() => { localStorage.setItem('stars', stars); }, [stars]);

            // DATI CON MOLTI PI√ô ANIMALI!
            const data = {
                // 1. NUMERI (1-20)
                numbers: { 
                    name: 'Numbers', 
                    emoji: 'üî¢', 
                    bg: 'bg-numbers', 
                    items: [
                        {name:'One',emoji:'1Ô∏è‚É£'},{name:'Two',emoji:'2Ô∏è‚É£'},{name:'Three',emoji:'3Ô∏è‚É£'},{name:'Four',emoji:'4Ô∏è‚É£'},
                        {name:'Five',emoji:'5Ô∏è‚É£'},{name:'Six',emoji:'6Ô∏è‚É£'},{name:'Seven',emoji:'7Ô∏è‚É£'},{name:'Eight',emoji:'8Ô∏è‚É£'},
                        {name:'Nine',emoji:'9Ô∏è‚É£'},{name:'Ten',emoji:'üîü'},
                        {name:'Eleven',emoji:'11'},{name:'Twelve',emoji:'12'},{name:'Thirteen',emoji:'13'},{name:'Fourteen',emoji:'14'},
                        {name:'Fifteen',emoji:'15'},{name:'Sixteen',emoji:'16'},{name:'Seventeen',emoji:'17'},{name:'Eighteen',emoji:'18'},
                        {name:'Nineteen',emoji:'19'},{name:'Twenty',emoji:'20'}
                    ]
                },
                // 2. COLORI
                colors: { name: 'Colors', emoji: 'üé®', bg: 'bg-colors', items: [
                    {name:'Red',emoji:'‚ù§Ô∏è'},{name:'Blue',emoji:'üíô'},{name:'Green',emoji:'üíö'},{name:'Yellow',emoji:'üíõ'},
                    {name:'Orange',emoji:'üß°'},{name:'Purple',emoji:'üíú'},{name:'Pink',emoji:'ü©∑'},{name:'Black',emoji:'üñ§'},
                    {name:'White',emoji:'ü§ç'},{name:'Brown',emoji:'ü§é'}
                ]},
                // 3. FRUTTI
                fruits: { name: 'Fruits', emoji: 'üçé', bg: 'bg-fruits', items: [
                    {name:'Apple',emoji:'üçé'},{name:'Banana',emoji:'üçå'},{name:'Grape',emoji:'üçá'},{name:'Orange',emoji:'üçä'},
                    {name:'Cherry',emoji:'üçí'},{name:'Strawberry',emoji:'üçì'},{name:'Watermelon',emoji:'üçâ'},{name:'Peach',emoji:'üçë'},
                    {name:'Pineapple',emoji:'üçç'},{name:'Pear',emoji:'üçê'},{name:'Lemon',emoji:'üçã'},{name:'Kiwi',emoji:'ü•ù'},
                    {name:'Mango',emoji:'ü•≠'},{name:'Coconut',emoji:'ü••'},{name:'Avocado',emoji:'ü•ë'},{name:'Blueberry',emoji:'ü´ê'}
                ]},
                // 4. ANIMALI - SUPER AMPLIATO! üêæ
                animals: { name: 'Animals', emoji: 'üê∂', bg: 'bg-animals', items: [
                    // Animali domestici
                    {name:'Cat',emoji:'üê±'},{name:'Dog',emoji:'üê∂'},{name:'Rabbit',emoji:'üê∞'},{name:'Hamster',emoji:'üêπ'},
                    // Animali della fattoria
                    {name:'Pig',emoji:'üê∑'},{name:'Cow',emoji:'üêÆ'},{name:'Horse',emoji:'üê¥'},{name:'Sheep',emoji:'üêë'},
                    {name:'Chicken',emoji:'üêî'},{name:'Duck',emoji:'ü¶Ü'},{name:'Goat',emoji:'üêê'},
                    // Animali selvaggi
                    {name:'Lion',emoji:'ü¶Å'},{name:'Tiger',emoji:'üêØ'},{name:'Bear',emoji:'üêª'},{name:'Panda',emoji:'üêº'},
                    {name:'Elephant',emoji:'üêò'},{name:'Giraffe',emoji:'ü¶í'},{name:'Zebra',emoji:'ü¶ì'},{name:'Hippo',emoji:'ü¶õ'},
                    {name:'Rhino',emoji:'ü¶è'},{name:'Gorilla',emoji:'ü¶ç'},{name:'Monkey',emoji:'üêµ'},{name:'Fox',emoji:'ü¶ä'},
                    {name:'Wolf',emoji:'üê∫'},{name:'Deer',emoji:'ü¶å'},{name:'Kangaroo',emoji:'ü¶ò'},
                    // Rettili e anfibi
                    {name:'Frog',emoji:'üê∏'},{name:'Crocodile',emoji:'üêä'},{name:'Snake',emoji:'üêç'},{name:'Turtle',emoji:'üê¢'},
                    {name:'Lizard',emoji:'ü¶é'},
                    // Uccelli
                    {name:'Bird',emoji:'üê¶'},{name:'Penguin',emoji:'üêß'},{name:'Eagle',emoji:'ü¶Ö'},{name:'Owl',emoji:'ü¶â'},
                    {name:'Parrot',emoji:'ü¶ú'},{name:'Flamingo',emoji:'ü¶©'},{name:'Peacock',emoji:'ü¶ö'},
                    // Insetti
                    {name:'Butterfly',emoji:'ü¶ã'},{name:'Bee',emoji:'üêù'},{name:'Ladybug',emoji:'üêû'},{name:'Ant',emoji:'üêú'},
                    {name:'Spider',emoji:'üï∑Ô∏è'},{name:'Snail',emoji:'üêå'},
                    // Animali marini
                    {name:'Fish',emoji:'üêü'},{name:'Dolphin',emoji:'üê¨'},{name:'Whale',emoji:'üêã'},{name:'Shark',emoji:'ü¶à'},
                    {name:'Octopus',emoji:'üêô'},{name:'Crab',emoji:'ü¶Ä'},{name:'Lobster',emoji:'ü¶û'},{name:'Seal',emoji:'ü¶≠'},
                    // Altri
                    {name:'Koala',emoji:'üê®'},{name:'Sloth',emoji:'ü¶•'},{name:'Otter',emoji:'ü¶¶'},{name:'Skunk',emoji:'ü¶®'},
                    {name:'Badger',emoji:'ü¶°'},{name:'Raccoon',emoji:'ü¶ù'},{name:'Bat',emoji:'ü¶á'},
                    // Animali fantastici
                    {name:'Unicorn',emoji:'ü¶Ñ'},{name:'Dragon',emoji:'üêâ'},{name:'Dinosaur',emoji:'ü¶ï'},{name:'T-Rex',emoji:'ü¶ñ'}
                ]},
                
                // LE ALTRE CATEGORIE
                months: { name: 'Months', emoji: 'üìÖ', bg: 'bg-months', items: [
                    {name:'January',emoji:'‚ùÑÔ∏è'},{name:'February',emoji:'üíò'},{name:'March',emoji:'üå±'},{name:'April',emoji:'üåßÔ∏è'},
                    {name:'May',emoji:'üå∏'},{name:'June',emoji:'‚òÄÔ∏è'},{name:'July',emoji:'üèñÔ∏è'},{name:'August',emoji:'üç¶'},
                    {name:'September',emoji:'üéí'},{name:'October',emoji:'üéÉ'},{name:'November',emoji:'üçÇ'},{name:'December',emoji:'üéÑ'}
                ]},
                weather: { name: 'Weather', emoji: 'üå§Ô∏è', bg: 'bg-weather', items: [
                    {name:'Sun',emoji:'‚òÄÔ∏è'},{name:'Rain',emoji:'üåßÔ∏è'},{name:'Cloud',emoji:'‚òÅÔ∏è'},{name:'Snow',emoji:'‚ùÑÔ∏è'},
                    {name:'Wind',emoji:'üí®'},{name:'Storm',emoji:'‚ö°'},{name:'Rainbow',emoji:'üåà'},{name:'Fog',emoji:'üå´Ô∏è'}
                ]},
                food: { name: 'Food', emoji: 'üçî', bg: 'bg-food', items: [
                    {name:'Pizza',emoji:'üçï'},{name:'Burger',emoji:'üçî'},{name:'Hotdog',emoji:'üå≠'},{name:'Taco',emoji:'üåÆ'},
                    {name:'Ice Cream',emoji:'üç¶'},{name:'Cake',emoji:'üç∞'},{name:'Cookie',emoji:'üç™'},{name:'Donut',emoji:'üç©'},
                    {name:'Bread',emoji:'üçû'},{name:'Cheese',emoji:'üßÄ'},{name:'Egg',emoji:'ü•ö'},{name:'Milk',emoji:'ü•õ'}
                ]},
                family: { name: 'Family', emoji: 'üë®‚Äçüë©‚Äçüëß', bg: 'bg-family', items: [
                    {name:'Mom',emoji:'üë©'},{name:'Dad',emoji:'üë®'},{name:'Sister',emoji:'üëß'},{name:'Brother',emoji:'üë¶'},
                    {name:'Grandma',emoji:'üëµ'},{name:'Grandpa',emoji:'üë¥'},{name:'Baby',emoji:'üë∂'},{name:'Uncle',emoji:'üë®‚Äçü¶±'}
                ]},
                gestures: { name: 'Gestures', emoji: 'ü§ù', bg: 'bg-gestures', items: [
                    {name:'Hi',emoji:'üëã'},{name:'Yes',emoji:'üëç'},{name:'No',emoji:'üëé'},{name:'Clap',emoji:'üëè'},
                    {name:'Peace',emoji:'‚úåÔ∏è'},{name:'Love',emoji:'ü§ü'},{name:'OK',emoji:'üëå'},{name:'Stop',emoji:'‚úã'}
                ]},
                shapes: { name: 'Shapes', emoji: '‚≠ê', bg: 'bg-shapes', items: [
                    {name:'Circle',emoji:'‚≠ï'},{name:'Square',emoji:'üü¶'},{name:'Star',emoji:'‚≠ê'},{name:'Heart',emoji:'‚ù§Ô∏è'},
                    {name:'Triangle',emoji:'üî∫'},{name:'Diamond',emoji:'üíé'},{name:'Oval',emoji:'ü•ö'},{name:'Moon',emoji:'üåô'}
                ]},
                body: { name: 'Body', emoji: 'üëÄ', bg: 'bg-body', items: [
                    {name:'Eye',emoji:'üëÄ'},{name:'Ear',emoji:'üëÇ'},{name:'Hand',emoji:'üëã'},{name:'Nose',emoji:'üëÉ'},
                    {name:'Mouth',emoji:'üëÑ'},{name:'Foot',emoji:'ü¶∂'},{name:'Hair',emoji:'üíá'},{name:'Teeth',emoji:'ü¶∑'}
                ]}
            };

            const speak = (text) => {
                window.speechSynthesis.cancel();
                const u = new SpeechSynthesisUtterance(text);
                u.lang = 'en-US'; 
                u.rate = 0.85;
                window.speechSynthesis.speak(u);
            };

            const startQuiz = () => {
                const items = data[category].items;
                const correct = items[Math.floor(Math.random() * items.length)];
                const wrong = items.filter(i => i.name !== correct.name).sort(() => 0.5 - Math.random()).slice(0, 3);
                setQuiz({ correct, options: [correct, ...wrong].sort(() => 0.5 - Math.random()) });
                speak(`Find ${correct.name}`);
            };

            const checkAnswer = (item) => {
                if(item.name === quiz.correct.name) {
                    setStars(s => s + 2);
                    setCelebration('üåü');
                    speak('Amazing!');
                    setTimeout(() => { setCelebration(null); startQuiz(); }, 1200);
                } else {
                    speak('Try again');
                }
            };

            if (screen === 'home') {
                return (
                    <div className="container">
                        <div className="grid-4">
                            {Object.keys(data).map(k => (
                                <button key={k} className={`btn btn-category ${data[k].bg}`} onClick={() => { setCategory(k); setScreen('mode'); }}>
                                    <div className="emoji-large">{data[k].emoji}</div>
                                    <div className="category-name">{data[k].name}</div>
                                </button>
                            ))}
                        </div>
                        <div className="stats-card">
                            <h3>‚≠ê My Stars: {stars} ‚≠ê</h3>
                        </div>
                    </div>
                );
            }

            if (screen === 'mode') {
                return (
                    <div className="container" style={{textAlign:'center'}}>
                        <button className="btn-back" onClick={() => setScreen('home')}>‚¨ÖÔ∏è Back</button>
                        <h1 className="page-title">{data[category].emoji}</h1>
                        <h2 className="subtitle">{data[category].name}</h2>
                        
                        <div className="mode-card">
                            <button className="btn btn-big btn-learn" onClick={() => setScreen('learn')}>üìö Learn Words</button>
                            <button className="btn btn-big btn-quiz" onClick={() => { setScreen('quiz'); startQuiz(); }}>üéÆ Play Quiz</button>
                        </div>
                    </div>
                );
            }

            if (screen === 'learn') {
                return (
                    <div className="container">
                        <button className="btn-back" onClick={() => setScreen('mode')}>‚¨ÖÔ∏è Back</button>
                        <h2 style={{textAlign:'center', marginBottom:'20px', fontSize:'2rem', color:'white', textShadow:'2px 2px 4px rgba(0,0,0,0.3)'}}>{data[category].name}</h2>
                        <div className="grid-3">
                            {data[category].items.map((item, i) => (
                                <button key={i} className="btn btn-item" onClick={() => speak(item.name)}>
                                    <div style={{fontSize:'3rem'}}>{item.emoji}</div>
                                    <div style={{color:'#333', marginTop:'8px', fontWeight:'700', fontSize:'0.95rem'}}>{item.name}</div>
                                </button>
                            ))}
                        </div>
                    </div>
                );
            }

            if (screen === 'quiz' && quiz) {
                return (
                    <div className="container" style={{textAlign:'center'}}>
                        <button className="btn-back" onClick={() => setScreen('mode')}>‚¨ÖÔ∏è Quit</button>
                        <div style={{margin:'20px 0', background:'white', padding:'20px', borderRadius:'20px', border:'5px solid #e0e0e0'}}>
                            <p style={{color:'#666', fontSize:'1.5rem', marginBottom:'10px'}}>Find the:</p>
                            <h1 className="quiz-word">{quiz.correct.name}</h1>
                            <button onClick={() => speak(quiz.correct.name)} style={{background:'linear-gradient(145deg, #06B6D4, #0284C7)', border:'none', fontSize:'1.5rem', color:'white', padding:'12px 24px', borderRadius:'15px', fontWeight:'700'}}>üîä Listen</button>
                        </div>

                        <div className="grid-2">
                            {quiz.options.map((item, i) => (
                                <button key={i} className="btn btn-item" style={{height:'140px'}} onClick={() => checkAnswer(item)}>
                                    <div style={{fontSize:'4.5rem'}}>{item.emoji}</div>
                                </button>
                            ))}
                        </div>
                        {celebration && <div className="celebration">{celebration}</div>}
                    </div>
                );
            }
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
